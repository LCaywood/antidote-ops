version: '2.0'
antidoteops.tweet_new_content:
    description: Tweet new content
    input:
        - title
        - featuredimage
        - link

    # TODO add account logic

    tasks:

        first_tweet:
            action: twitter.update_status
            input:
                status: "[New Post] <% $.title %> <% $.link %>"
                media: "<% $.featuredimage %>"

        first_sleep:
            action: core.pause
            timeout: 87000
            input:
                timeout: 87000
                max_pause: 86400

        second_tweet:
            action: twitter.update_status
            input:
                status: "♻ Post: <% $.title %> <% $.link %>"
                media: "<% $.featuredimage %>"

        second_sleep:
            action: core.pause
            timeout: 87000
            input:
                timeout: 87000
                max_pause: 86400

        third_tweet:
            action: twitter.update_status
            input:
                status: "♻♻ Post: <% $.title %> <% $.link %>"
                media: "<% $.featuredimage %>"
